(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{415:function(t,e,r){"use strict";r.r(e);r(6),r(46),r(52),r(30),r(10),r(5),r(44),r(35),r(25),r(15),r(16),r(12),r(13),r(28),r(22),r(42),r(53),r(8),r(45);var n=r(1),o=r(61);function l(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return c(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,d=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return l=t.done,t},e:function(t){d=!0,o=t},f:function(){try{l||null==r.return||r.return()}finally{if(d)throw o}}}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}var v={name:"BillingDetails",props:{cart:{type:Object,default:function(){}}},data:function(){return{countries:["france"],firstName:"",lastName:"",email:"",phone:"",address:"",country:{},city:"",postalCode:"",cardNumber:"4242 4242 4242 4242",expiryDate:"01/2023",cvc:"123",cardZip:"94103",rules:{email:function(t){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)||"Invalid e-mail."},required:function(t){return!!t||"Required."}}}},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(o.c)({token:"token"})),methods:{shippingOpts:function(t){var e=this;this.$commerce.checkout.getShippingOptions(t,{country:this.country.code}).then((function(t){e.$emit("shippingCost",t[0].price.formatted),e.shipMethod=t[0].id}))},submitOrder:function(){var t=this;if(this.$refs.billing.validate()){var e,r=this.expiryDate.split("/"),n={},o=l(this.cart.line_items);try{for(o.s();!(e=o.n()).done;){var i=e.value;n[i.id]={quantity:i.quantity}}}catch(t){o.e(t)}finally{o.f()}var data={line_items:n,customer:{firstname:this.firstName,lastname:this.lastName,email:this.email},shipping:{name:"".concat(this.firstName," ").concat(this.lastName),street:this.address,town_city:this.city,postal_zip_code:this.postalCode,country:this.country.code},fulfillment:{shipping_method:this.shipMethod},payment:{gateway:"test_gateway",card:{number:this.cardNumber,expiry_month:r[0],expiry_year:r[1],cvc:this.cvc,postal_zip_code:this.cardZip}}};this.$commerce.checkout.capture(this.token.id,data).then((function(e){t.$emit("orderComplete",{id:e.id,ref:e.customer_reference})})).catch((function(e){t.$emit("orderError",e)}))}}}},f=r(51),m=r(94),y=r.n(m),h=r(389),_=r(472),O=r(473),w=r(474),C=r(479),x=r(466),component=Object(f.a)(v,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-form",{ref:"billing",staticClass:"px-1"},[r("v-row",[r("v-col",{staticClass:"py-0"},[r("v-text-field",{attrs:{dense:"",name:"firstName",label:"First Name",outlined:"",rules:[t.rules.required]},model:{value:t.firstName,callback:function(e){t.firstName=e},expression:"firstName"}})],1),t._v(" "),r("v-col",{staticClass:"py-0"},[r("v-text-field",{attrs:{dense:"",name:"lastName",label:"Last Name",outlined:"",rules:[t.rules.required]},model:{value:t.lastName,callback:function(e){t.lastName=e},expression:"lastName"}})],1)],1),t._v(" "),r("v-row",[r("v-col",{staticClass:"py-0"},[r("v-text-field",{attrs:{dense:"",name:"phone",label:"Phone #",outlined:"",rules:[t.rules.required]},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1),t._v(" "),r("v-col",{staticClass:"py-0"},[r("v-text-field",{attrs:{dense:"",label:"Email",name:"email",outlined:"",rules:[t.rules.required,t.rules.email]},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1)],1),t._v(" "),r("v-row",[r("v-col",{staticClass:"py-0"},[r("v-text-field",{attrs:{dense:"",label:"Street Address",name:"address",outlined:"",rules:[t.rules.required]},model:{value:t.address,callback:function(e){t.address=e},expression:"address"}})],1),t._v(" "),r("v-col",{staticClass:"py-0"},[r("v-text-field",{attrs:{dense:"",label:"City",name:"city",outlined:"",rules:[t.rules.required]},model:{value:t.city,callback:function(e){t.city=e},expression:"city"}})],1)],1),t._v(" "),r("v-row",[r("v-col",{staticClass:"py-0"},[r("v-select",{attrs:{dense:"","item-text":"name","item-value":"code",label:"Country",name:"country",outlined:"","return-object":"",items:t.countries,rules:[t.rules.required]},on:{change:function(e){return t.shippingOpts(t.token.id)}},model:{value:t.country,callback:function(e){t.country=e},expression:"country"}})],1),t._v(" "),r("v-col",{staticClass:"py-0"},[r("v-text-field",{attrs:{dense:"",label:"Postal Code",name:"postalCode",outlined:"",rules:[t.rules.required]},model:{value:t.postalCode,callback:function(e){t.postalCode=e},expression:"postalCode"}})],1)],1),t._v(" "),r("p",{staticClass:"title ml-3 mb-4"},[t._v("\n    Payment Details\n  ")]),t._v(" "),r("v-text-field",{attrs:{label:"Card #",outlined:"",rules:[t.rules.required]},model:{value:t.cardNumber,callback:function(e){t.cardNumber=e},expression:"cardNumber"}}),t._v(" "),r("v-row",[r("v-col",{staticClass:"py-0"},[r("v-text-field",{attrs:{label:"Date",outlined:"",rules:[t.rules.required]},model:{value:t.expiryDate,callback:function(e){t.expiryDate=e},expression:"expiryDate"}})],1),t._v(" "),r("v-col",{staticClass:"py-0"},[r("v-text-field",{attrs:{label:"cvc",outlined:"",rules:[t.rules.required]},model:{value:t.cvc,callback:function(e){t.cvc=e},expression:"cvc"}})],1),t._v(" "),r("v-col",{staticClass:"py-0"},[r("v-text-field",{attrs:{label:"Zip",outlined:"",rules:[t.rules.required]},model:{value:t.cardZip,callback:function(e){t.cardZip=e},expression:"cardZip"}})],1)],1),t._v(" "),r("v-btn",{nativeOn:{click:function(e){return t.submitOrder(e)}}},[t._v("\n    Submit\n  ")])],1)}),[],!1,null,null,null);e.default=component.exports;y()(component,{VBtn:h.a,VCol:_.a,VForm:O.a,VRow:w.a,VSelect:C.a,VTextField:x.a})},481:function(t,e,r){"use strict";r.r(e);r(6),r(10),r(5),r(15),r(16),r(12),r(8);var n=r(1),o=r(61);function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function c(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var d={components:{BillingDetails:r(415).default},data:function(){return{dialog:!1,shippingCost:"0.00",snackbar:!1,timeout:8e3,orderNumber:"",orderRef:"",orderError:""}},computed:c(c({},Object(o.c)({cart:"cart"})),{},{total:function(){var t="0.00";return this.cart.subtotal&&(t=+this.cart.subtotal.raw+ +this.shippingCost),"$".concat(t)}}),mounted:function(){this.$store.dispatch("retrieveCart")},methods:{updateCost:function(t){this.shippingCost=t},handleOrderError:function(t){this.orderError=t,this.snackbar=!0},handleOrderRes:function(data){this.orderNumber=data.id,this.orderRef=data.ref,this.dialog=!0}}},v=r(51),f=r(94),m=r.n(f),y=r(389),h=r(391),_=r(390),O=r(472),w=r(486),C=r(476),x=r(382),j=r(474),k=r(477),component=Object(v.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",{attrs:{elevation:"0"}},[r("v-row",{attrs:{align:"center",justify:"space-around"}},[r("v-col",{attrs:{cols:"12",sm:"7",lg:"5"}},[r("v-card-title",{attrs:{"primary-title":""}},[t._v("\n        Billing Details\n      ")]),t._v(" "),r("billing-details",{attrs:{cart:t.cart},on:{shippingCost:t.updateCost,orderComplete:t.handleOrderRes,orderError:t.handleOrderError}})],1),t._v(" "),r("v-col",{attrs:{cols:"12",sm:"5"}},[r("v-card",{attrs:{"max-width":"400"}},[r("v-card-title",{staticClass:"pb-0"},[t._v("\n          Order Summary\n        ")]),t._v(" "),t.cart?r("v-container",[r("v-row",{attrs:{justify:"space-between"}},[r("v-card-subtitle",{staticClass:"title py-1 pl-3"},[t._v("\n              Product\n            ")]),t._v(" "),r("v-card-subtitle",{staticClass:"title py-1 pr-3"},[t._v("\n              Subtotal\n            ")])],1),t._v(" "),t._l(t.cart.line_items,(function(e){return r("v-row",{key:e.id,attrs:{justify:"space-between"}},[r("v-card-subtitle",{key:e.name},[t._v("\n              "+t._s(e.name)+" x "+t._s(e.quantity)+"\n            ")]),t._v(" "),r("v-card-subtitle",{key:e.price.formatted},[t._v("\n              $"+t._s(e.price.formatted)+"\n            ")])],1)})),t._v(" "),r("v-divider"),t._v(" "),r("v-row",{attrs:{justify:"space-between"}},[r("v-card-subtitle",[t._v("Subtotal")]),t._v(" "),t.cart.subtotal?r("v-card-subtitle",[t._v("\n              "+t._s(t.cart.subtotal.formatted_with_symbol)+"\n            ")]):r("v-card-subtitle",[t._v("\n              $0.00\n            ")])],1),t._v(" "),r("v-row",{attrs:{justify:"space-between"}},[r("v-card-subtitle",[t._v("Shipping")]),t._v(" "),r("v-card-subtitle",[t._v("$"+t._s(t.shippingCost))])],1),t._v(" "),r("v-divider"),t._v(" "),r("v-row",{attrs:{justify:"space-between"}},[r("v-card-subtitle",[t._v("Total")]),t._v(" "),r("v-card-subtitle",[t._v(t._s(t.total))])],1),t._v(" "),r("v-row",{attrs:{justify:"center"}},[r("v-btn",{staticClass:"my-2",attrs:{to:"/"}},[t._v("\n              Edit Cart\n            ")])],1)],2):t._e()],1)],1)],1),t._v(" "),r("v-dialog",{attrs:{width:"500"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[r("v-card",[r("v-card-title",[t._v("Order Confirmation: "+t._s(t.orderRef))]),t._v(" "),r("v-card-text",[t._v("\n        Thank you for your order!\n      ")]),t._v(" "),r("v-card-actions",[r("v-btn",{attrs:{outlined:"",to:"/"}},[t._v("\n          Store\n        ")])],1)],1)],1),t._v(" "),r("v-snackbar",{attrs:{top:"",vertical:"",timeout:t.timeout},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n    "+t._s(t.orderError)+"\n  ")])],1)}),[],!1,null,null,null);e.default=component.exports;m()(component,{BillingDetails:r(415).default}),m()(component,{VBtn:y.a,VCard:h.a,VCardActions:_.a,VCardSubtitle:_.b,VCardText:_.c,VCardTitle:_.d,VCol:O.a,VContainer:w.a,VDialog:C.a,VDivider:x.a,VRow:j.a,VSnackbar:k.a})}}]);